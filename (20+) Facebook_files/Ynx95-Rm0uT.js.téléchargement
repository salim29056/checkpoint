;/*FB_PKG_DELIM*/

__d("CometFeedFocusImage.react",["CometFeedFocusMedia.react","CometImage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={border:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=a.alt,e=a.focusX,f=a.focusY,g=a.imageHeight,h=a.imageWidth,k=a.src;a=a.viewportAspectRatio;return i.jsxs(d("react-strict-dom").html.div,{style:j.root,children:[i.jsx(c("CometFeedFocusMedia.react"),{focusX:e,focusY:f,mediaHeight:g,mediaWidth:h,viewportAspectRatio:a,children:function(a){return i.jsx(c("CometImage.react"),{alt:b,src:k,xstyle:a})}}),i.jsx(d("react-strict-dom").html.div,{style:j.border})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("ReactComposerMediaAspect",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.w(),a.h())}function b(a){return g(a[0],a[1])}function g(a,b){if(a>b)return"landscape";else if(a<b)return"portrait";else return"square"}f.fromRect=a;f.fromDimensions=b;f._fromWidthAndHeight=g}),66);
__d("ReactComposerCollageLayoutModel",["ReactComposerMediaAspect"],(function(a,b,c,d,e,f,g){"use strict";function* h(a,b){while(!0){var c=a.next(),d=b.next();if(c.done||d.done)break;yield [c.value,d.value]}}function* i(a){for(a of a)yield a}a=function(){function a(a,b){this.$1=!!(a&1),this.$2=!!(a&2),this.$3=[],b&&this.addPhotoLayouts(b)}var b=a.prototype;b.addPhotoLayout=function(a){this.$3.push(a);return this};b.addPhotoLayouts=function(a){var b=this;a.forEach(function(a){return b.$3.push(a)});return this};b.getNumPhotoLayouts=function(){return this.$3.length};b.getPhotoLayouts=function(){return this.$3};b.getIsValidForPages=function(){return this.$2};b.getIsValidForUsers=function(){return this.$1};b.getIsValidFor=function(a){switch(a){case 1:return this.getIsValidForUsers();case 2:return this.getIsValidForPages()}return!1};b.hasMatchingCollagePhotoLayoutType=function(a){var b=d("ReactComposerMediaAspect").fromRect(this.$3[0]);a=d("ReactComposerMediaAspect").fromDimensions(a);return b===a};b.score=function(a){var b=0;for(a of h(i(this.getPhotoLayouts()),a.values())){var c=a[0],d=a[1];if(!d)continue;var e=c.w();c=c.h();var f=d[0];d=d[1];var g=0;if(f===0||d===0)g=0;else if(e*d/f>=c){var j=e*d/f;g=(j-c)/j}else if(c*f/d>e){j=c*f/d;g=(j-e)/j}b-=g*100;d===f?b-=g*5:e>c?f>d?b+=g*25:b-=g*25:e<c?f<d?b+=g*25:b-=g*25:e===c&&(b-=g*5)}b+=200*this.getNumPhotoLayouts();return b};return a}();g["default"]=a}),98);
__d("ReactComposerCollageRect",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){this.t=a,this.r=b,this.b=c,this.l=d}var b=a.prototype;b.w=function(){return this.r-this.l};b.h=function(){return this.b-this.t};b.getWidth=function(){return this.w()};b.getHeight=function(){return this.h()};b.getTop=function(){return this.t};b.getRight=function(){return this.r};b.getBottom=function(){return this.b};b.getLeft=function(){return this.l};return a}();f["default"]=a}),66);
__d("ReactComposerJSONCollageLayoutData",[],(function(a,b,c,d,e,f){a=Object.freeze({1:[{validActors:3,photoLayouts:[[0,1,1,0]]}],2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]});f["default"]=a}),66);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerCollageRect","ReactComposerJSONCollageLayoutData"],(function(a,b,c,d,e,f,g){"use strict";var h=[];Object.keys(c("ReactComposerJSONCollageLayoutData")).forEach(function(a){c("ReactComposerJSONCollageLayoutData")[a].forEach(function(a){h.push(new(c("ReactComposerCollageLayoutModel"))(a.validActors,a.photoLayouts.map(function(a){return new(c("ReactComposerCollageRect"))(a[0],a[1],a[2],a[3])})))})});a=h;g["default"]=a}),98);
__d("ReactComposerCollageLayoutSelection",["FBLogger","ReactComposerCollageLayoutData"],(function(a,b,c,d,e,f,g){"use strict";d=6;e=6;function h(a){return c("ReactComposerCollageLayoutData").filter(function(b){return b.getIsValidFor(a)})}function a(){return Math.max.apply(Math,c("ReactComposerCollageLayoutData").map(function(a){return a.getNumPhotoLayouts()}))}function i(a){return Math.max.apply(Math,h(a).map(function(a){return a.getNumPhotoLayouts()}))}function b(a,b){if(a.size===0)return new Map();b=b===!0&&a.size>1;return b?j(a):k(a)}function j(a){if(a.size===0)return new Map();var b=a.values().next().value;if(b==null)throw c("FBLogger")("comet_feed").mustfixThrow("no dimensions for first media in collage");var d=Math.min(i(2),a.size),e=h(2).filter(function(a){return a.getNumPhotoLayouts()===d});if(!e.length)throw c("FBLogger")("comet_feed").mustfixThrow("no valid layout for these media");e=e.filter(function(a){return a.hasMatchingCollagePhotoLayoutType(b)});if(!e.length)throw c("FBLogger")("comet_feed").mustfixThrow("no valid layout for these media starts with a suitable aspect");e=e[0];var f=new Map(),g=0;e=e.getPhotoLayouts();for(var a=a.keys(),j=Array.isArray(a),k=0,a=j?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=a.length)break;l=a[k++]}else{k=a.next();if(k.done)break;l=k.value}l=l;var m=e[g++];m&&f.set(l,m)}return f}function k(a){var b=h(1).filter(function(b){return b.getNumPhotoLayouts()<=a.size});if(!b.length)throw c("FBLogger")("comet_feed").mustfixThrow("no valid layout for these media");b=l(b,a);if(!b)throw c("FBLogger")("comet_feed").mustfixThrow("no best layout? Should not happen!");var d=new Map(),e=0;b=b.getPhotoLayouts();for(var f=a.keys(),g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var k=b[e++];k&&d.set(j,k)}return d}function l(a,b){a=a.map(function(a){return[a,a.score(b)]});a=a.reduce(function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return a===null||b>a?[d,b]:[c,a]},[null,null]);a=a[0];return a}g.MAX_NUM_COLS=d;g.MAX_NUM_ROWS=e;g._getCollageLayoutsFor=h;g.getMaxPhotosSupported=a;g.getMaxPhotosSupportedFor=i;g.getCollageLayout=b;g.getBestPageCollageLayout=j;g.getBestUserCollageLayout=k;g._bestLayoutByScore=l}),98);